<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
    <title>Basic Qunit Assertion</title>    
    <script language="javascript" src="../javascripts/jquery-1.3.2.js" type="text/javascript"></script>
	<script type="text/javascript" src="http://jqueryjs.googlecode.com/svn/trunk/qunit/testrunner.js"></script>
	<link rel="stylesheet" href="http://dev.jquery.com/view/trunk/qunit/testsuite.css" type="text/css" media="screen" />

    <!-- Magic 8 Javascript -->
    <script language="javascript" src="../javascripts/eight.js" type="text/javascript"></script>

</head>
<body>

<script language="javascript" type="text/javascript">

// Magic 8 Tests
$(function() {
	module("Magic 8 Tests");

	test("Answer should start out empty", function() {
	  expect(1);
	  equals( $("#answer").html() == "", true, "answer should be empty" );
	});
	
	test("History should start out empty", function() {
	  expect(1);
	  equals( $("#history").html() == "", true, "history should be empty" );
	});
	
	test("changing the #question should update the page", function() {
	  expect(3);
	  $('#question').val("Should I ask a question?").trigger("change");
	  stop();
	
	  setTimeout(function() {
		  equals( $("#history li:last-child span.q").html(), "Should I ask a question?", "History is updated with the question" );
		  equals( $("#answer").html() == "", false, "Answer should not be empty" );
		  equals( $("#history li:last-child span.a").html(), $("#answer").html(), "Answer and last answer history are the same" );
		  start();
	  }, 500);
	});
});

</script>

        <h1>Basic Qunit Assertion</h1>
        <h2 id="banner"></h2>
        <ol id="tests"></ol>
        <div id="results"></div>
        <div id="main"></div>        
        
        <!-- Magic 8 HTML -->
		<div id='sidebar'>
			<h1 id='heading'>Magic 8 Ball<hr/></h1>
			<p id='instructions' class='paragraph shake'>Ask the magic 8 ball a question:</p>

			<input type="text" name="question" id="question" value="">

			<ul id='history'></ul>

		</div>

		<div id='eight' class='shake'>
			<p id='answer'></p>
		</div>
</body>
</html>
